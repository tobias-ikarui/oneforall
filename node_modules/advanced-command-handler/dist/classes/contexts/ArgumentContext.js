"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ArgumentContext = void 0;
const CommandContext_1 = require("./CommandContext");
const SubCommandContext_1 = require("./SubCommandContext");
class ArgumentContext extends CommandContext_1.CommandContext {
    /**
     * Creates a new ArgumentContext.
     *
     * @param options - The options of the ArgumentContext.
     */
    constructor(options) {
        options.message.content = options.rawArgs.slice(options.index, options.index + 1)[0];
        options.message.mentions.channels.clear();
        options.message.mentions.members?.clear();
        options.message.mentions.users.clear();
        super(options);
        this.index = options.index;
        if (options.subCommand) {
            const subCommandArguments = new SubCommandContext_1.SubCommandContext({ ...options });
            this.currentArgument = subCommandArguments.arguments[options.index];
        }
        else
            this.currentArgument = this.arguments[options.index];
    }
}
exports.ArgumentContext = ArgumentContext;
